---
import Layout from '../layouts/Layout.astro';
import Header from '../components/organisms/Header.astro';
import Card from '../components/molecules/Card.astro';
import ProjectCard from '../components/molecules/ProjectCard.astro';
import SocialLinks from '../components/molecules/SocialLinks.astro';
import Button from '../components/atoms/Button.astro';
import Heading from '../components/atoms/Heading.astro';
import Text from '../components/atoms/Text.astro';
import Icon from '../components/atoms/Icon.astro';
import { getFeaturedProjects } from '../utils/projects';
import RemoteImage, {profileImage} from '../components/atoms/RemoteImage.astro';

// Obtener proyectos destacados desde Content Collections
const featuredProjects = await getFeaturedProjects();
---

<Layout title="Inicio | Carlos Mairena">
	<Header currentPath="/" />
	
	<!-- Hero Section -->
	<main class="bg-gradient-to-br from-blue-50 to-purple-50 py-20">
		<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
			<div class="text-center">
				<!-- Foto profesional -->
				<div class="mb-8">
					<div class="w-32 h-32 mx-auto rounded-full bg-gradient-to-r from-blue-500 to-purple-600 p-1">
							<!-- Foto profesional -->
							<RemoteImage src={profileImage} 
								alt="Carlos Mairena L贸pez"
								class="w-full h-full rounded-full bg-gray-200 flex items-center justify-center"
								loading="eager"
							/>
					</div>
				</div>
				
				<Heading level={1} class="text-center leading-tight mb-4">
					Bienvenido a <span class="bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent">carlosmmairena.com</span>
				</Heading>
				
				<Text color="secondary" size="xl" class="text-center mb-8 max-w-3xl mx-auto">
					Desarrollador Full Stack especializado en infraestructura de servidores, redes y ciberseguridad. 
					Creando soluciones robustas desde el c贸digo hasta la implementaci贸n.
				</Text>
				
				<!-- CTAs -->
				<div class="flex flex-col sm:flex-row gap-4 justify-center mb-8">
					<Button variant="primary" size="lg" href="/proyectos">
						<Icon name="arrow-right" size="sm" class="mr-2" />
						Ver Proyectos
					</Button>
					<Button variant="outline" size="lg" href="/cv.pdf">
						<Icon name="download" size="sm" class="mr-2" />
						Descargar CV
					</Button>
				</div>
				
				<!-- Redes sociales -->
				<SocialLinks size="lg" class="justify-center" />
			</div>
		</div>
	</main>
	
	<!-- Services Section -->
	<section class="py-16 bg-white">
		<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
			<div class="text-center mb-12">
				<Heading level={2} size="3xl" class="mb-4">
					驴Qu茅 hago?
				</Heading>
				<Text color="secondary" size="lg" class="max-w-2xl mx-auto">
					Mi experiencia abarca tanto el desarrollo de software como la gesti贸n de infraestructura tecnol贸gica
				</Text>
			</div>
			
			<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
				<Card
					title=" Desarrollo Web"
					body="Aplicaciones web modernas con React, Vue, Astro y tecnolog铆as de vanguardia. Frontend y backend escalables."
				/>
				<Card
					title=" DevOps & Cloud"
					body="Infraestructura como c贸digo con Docker, Kubernetes, Terraform y servicios en la nube (AWS, Azure)."
				/>
				<Card
					title=" Ciberseguridad"
					body="Hardening de servidores, auditor铆as de seguridad, pentesting y monitoreo de sistemas cr铆ticos."
				/>
			</div>
		</div>
	</section>
	
	<!-- Featured Projects Section -->
	<section class="py-16 bg-gray-50">
		<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
			<div class="text-center mb-12">
				<Heading level={2} size="3xl" class="mb-4">
					Proyectos Destacados
				</Heading>
				<Text color="secondary" size="lg" class="max-w-2xl mx-auto mb-6">
					Los 煤ltimos proyectos en los que he trabajado, desde aplicaciones web hasta herramientas de infraestructura
				</Text>
				<Button variant="outline" href="/proyectos">
					Ver todos los proyectos
				</Button>
			</div>
			
			<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
				{featuredProjects.map(project => (
					<ProjectCard
						title={project.title}
						description={project.description}
						technologies={project.technologies}
						githubUrl={project.githubUrl}
						demoUrl={project.demoUrl}
						projectCategory={project.projectCategory}
						category={project.category as 'primary' | 'warning' | 'danger'}
					/>
				))}
			</div>
		</div>
	</section>
</Layout>
